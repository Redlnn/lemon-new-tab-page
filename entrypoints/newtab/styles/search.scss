.search-box {
  position: relative;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;

  --cubic-bezier: cubic-bezier(0.65, 0.05, 0.1, 1);

  &__form {
    --height: 44px;
    --width: 300px;
    --search-form-placeholder-color: var(--el-text-color-regular);

    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: var(--width);
    height: var(--height);
    font-size: 15px;
    color: transparent;
    background-color: color-mix(in srgb, var(--el-fill-color), transparent 60%);
    border-radius: calc(var(--height) / 2);
    backdrop-filter: blur(10px) saturate(1.4);
    transition:
      background-color var(--el-transition-duration-fast) ease,
      box-shadow var(--el-transition-duration-fast) ease,
      border var(--el-transition-duration-fast) ease,
      width var(--el-transition-duration-fast) var(--cubic-bezier);

    &--shadow {
      box-shadow: var(--el-box-shadow);
    }

    html.dark & {
      --search-form-placeholder-color: var(--el-text-color-secondary);

      &--shadow {
        box-shadow: var(--el-box-shadow-light);
      }
    }

    &:hover:not(.search-box__form--focus) {
      --width: 500px;
      --search-form-placeholder-color: var(--el-text-color-primary);

      background-color: color-mix(in srgb, var(--el-fill-color), transparent 40%);
    }

    html:not(.dark) &.search-box__form--dark {
      background-color: var(--el-fill-color-blank);
      border: solid 1px var(--el-border-color-light);
    }

    .search-engine-menu__icon,
    .search-box__btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: calc(var(--height) - 10px);
      height: calc(var(--height) - 10px);
      margin: 5px;
      overflow: hidden;
      border-radius: 50%;
      transition:
        color var(--el-transition-duration-fast) ease,
        background-color var(--el-transition-duration-fast) ease;
    }

    &--focus {
      --width: 500px;

      background-color: color-mix(in srgb, var(--el-fill-color), transparent 20%);

      .search-engine-menu__icon {
        color: var(--el-text-color-regular);
      }

      .search-box__btn {
        color: var(--el-color-primary);
      }

      .search-engine-menu__icon,
      .search-box__btn {
        cursor: pointer;

        &:hover {
          background: white;
        }
      }
    }

    .search-box__input {
      width: calc(100% - 2 * var(--height) - 20px);
      height: 100%;
      font-size: 1em;
      color: var(--el-text-color-primary);
      text-align: center;
      outline: none;
      background: none;
      border: none;
      transition:
        width var(--el-transition-duration-fast) var(--cubic-bezier),
        color var(--el-transition-duration-fast) ease;

      &::placeholder {
        color: var(--search-form-placeholder-color);
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        -khtml-user-select: none;
        user-select: none;
      }
    }
  }
}

@media screen and (width <= 600px) {
  .search-box__form {
    --height: 40px;
    --width: 75vw;

    &:hover:not(.search-box__form--focus),
    &.search-box__form--focus {
      --width: 85vw;
    }
  }
}
